on:
  workflow_call:

  push:
    branches-ignore:
      - main # Exclude pushes to the main branch
    paths-ignore:
      - ".*" # Exclude all directories starting with a "."
jobs:
  spotless-check:
    uses: ./.github/workflows/spotless-check.yml
  push:
    runs-on: ubuntu-latest
    steps:
      - run: git add .
      - name: Push changes
        uses: ad-m/github-push-action@v0.8.0
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          branch: ${{ github.ref }}
